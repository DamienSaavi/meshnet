{"version":3,"sources":["components/Blip.js","components/Button.js","components/Line.js","objects/Node.js","App.js","config/config.js","reportWebVitals.js","index.js"],"names":["Blip","node","className","onDrag","onMouseDown","pos","id","peers","defaultClassName","position","event","x","y","bounds","Object","keys","length","map","peer","Button","onClick","title","Line","from","to","offset","x1","y1","x2","y2","Node","updatePos","addPeer","removePeer","this","uuid","App","useState","nodes","setNodes","links","setLinks","createNode","useEffect","updatedLinks","values","linkID","sort","join","mouseDownHandler","button","updateNodes","destroyNode","updatedNodes","forEach","neigh","Math","hypot","updateNodePos","width","height","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.da5b19bc.chunk.js","sourcesContent":["import React from \"react\";\r\nimport Draggable from \"react-draggable\";\r\n\r\nexport default function Blip({ node, className, onDrag, onMouseDown }) {\r\n    const { id, pos, peers } = node\r\n\r\n    return (\r\n        <Draggable\r\n            defaultClassName={`absolute ${className}`}\r\n            position={pos}\r\n            onDrag={(event, { x, y }) => onDrag({ x, y })}\r\n            onMouseDown={event => onMouseDown(event)}\r\n            bounds='parent'\r\n        >\r\n            <div className='node transition-color select-none font-mono text-white bg-green-600 rounded-full shadow-xl w-16 h-16 flex flex-col justify-center items-center hover:bg-green-500 overflow-visible whitespace-nowrap hover:animate-ping'>\r\n                <div className='text-xs font-bold'>{pos.x + ' ' + pos.y}</div>\r\n                <div className='flex-col text-xs peers hidden absolute left-full top-full ml-2 p-1 bg-gray-500 rounded shadow-xl'>\r\n                    <p className='place-self-center'>{Object.keys(peers).length === 0 ? 'lonely...' : 'PEERS'}</p>\r\n                    <hr className='my-0.5' />\r\n                    {Object.keys(peers).map(peer => <p key={peer}>{peer}</p>)}\r\n                </div>\r\n                <div className='absolute transition-all duration-400 ease-out node-range z-0 bg-transparent rounded-full border w-0 h-0 opacity-0'></div>\r\n            </div>\r\n        </Draggable>\r\n    )\r\n}","export default function Button({ onClick, title }) {\r\n    return (\r\n        <div className='rounded-lg border-2 border-blue-200'>\r\n            <button\r\n                title={title}\r\n                className='flex justify-center items-center font-bold text-white bg-blue-500 leading-none p-3 px-3 w-40 max-w-prose border-b-4  border-blue-600 rounded-md hover:bg-blue-400 active:border-b-2 -mt-0.5 active:mt-0'\r\n                onClick={onClick}\r\n            >{title}</button>\r\n        </div>\r\n    )\r\n}","export default function Line({from,to, offset}) {\r\n    return (<line x1={from.x + offset} y1={from.y + offset} x2={to.x + offset} y2={to.y + offset} className=\"line\" />\r\n    )\r\n}","import { v4 as uuid } from 'uuid'\r\n\r\nexport default class Node {\r\n    constructor() {\r\n        this.id = uuid()\r\n        this.pos = { x: 0, y: 0 }\r\n        this.peers = {}\r\n    }\r\n\r\n    get x() { return this.pos.x }\r\n    get y() { return this.pos.y }\r\n\r\n    updatePos = ({ x, y }) => {\r\n        this.pos = { x, y }\r\n    }\r\n\r\n    addPeer = (peer) => {\r\n        if (!this.peers[peer.id])\r\n            this.peers = { ...this.peers, [peer.id]: peer }\r\n    }\r\n\r\n    removePeer = (peer) => {\r\n        if (this.peers[peer.id])\r\n            delete this.peers[peer.id]\r\n    }\r\n}","import { useEffect, useState } from 'react'\r\nimport Blip from './components/Blip'\r\nimport Button from './components/Button'\r\nimport Line from './components/Line'\r\nimport Node from './objects/Node'\r\nimport { RANGE } from \"./config/config.js\"\r\n\r\n\r\nfunction App() {\r\n    const [nodes, setNodes] = useState({})\r\n    const [links, setLinks] = useState({})\r\n\r\n    useEffect(() => {\r\n        createNode()\r\n    }, [])\r\n\r\n    function createNode() {\r\n        const node = new Node()\r\n        setNodes({\r\n            [node.id]: node,\r\n            ...nodes\r\n        })\r\n    }\r\n\r\n    function destroyNode(node) {\r\n        const updateNodes = { ...nodes }\r\n        for (const peer of Object.values(updateNodes[node.id].peers)) {\r\n            delete peer.peers[node.id]\r\n        }\r\n\r\n        delete updateNodes[node.id]\r\n\r\n        setNodes(updateNodes)\r\n    }\r\n\r\n    function updateNodePos(node, pos) {\r\n        const updatedNodes = { ...nodes }\r\n\r\n        updatedNodes[node.id].updatePos(pos)\r\n\r\n        Object.values(updatedNodes).forEach(neigh => {\r\n            if (node.id !== neigh.id) {\r\n                const d = Math.hypot(node.x - neigh.x, node.y - neigh.y)\r\n                if (d <= RANGE) {\r\n                    updatedNodes[node.id].addPeer(neigh)\r\n                    updatedNodes[neigh.id].addPeer(node)\r\n                } else {\r\n                    updatedNodes[node.id].removePeer(neigh)\r\n                    updatedNodes[neigh.id].removePeer(node)\r\n                }\r\n            }\r\n        })\r\n\r\n        setNodes(updatedNodes)\r\n    }\r\n\r\n    useEffect(() => {\r\n        const updatedLinks = {}\r\n\r\n        for (const node of Object.values(nodes)) {\r\n            for (const peer of Object.values(node.peers)) {\r\n                const linkID = [node.id, peer.id].sort().join('+')\r\n                if (!updatedLinks[linkID]) {\r\n                    updatedLinks[linkID] = [node.pos, peer.pos]\r\n                }\r\n            }\r\n        }\r\n\r\n        setLinks(updatedLinks)\r\n\r\n    }, [nodes])\r\n\r\n    const mouseDownHandler = (node, event) => {\r\n        if (event.button === 1) {\r\n            destroyNode(node)\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <div className='h-screen w-full flex flex-col overflow-hidden'>\r\n            <div className='w-full relative z-50 bg-gray-800 border-b-2 border-gray-500 mx-auto flex justify-center items-center py-4'>\r\n                <Button\r\n                    title='Add Node'\r\n                    onClick={createNode}\r\n                />\r\n            </div>\r\n            <div className=\"relative bg-gray-700 flex-grow\">\r\n\r\n                {/* render nodes */}\r\n                {Object.keys(nodes).length > 0 ?\r\n                    Object.values(nodes).map(node =>\r\n                        <Blip\r\n                            key={node.id}\r\n                            node={node}\r\n                            onMouseDown={(event) => mouseDownHandler(node, event)}\r\n                            onDrag={(pos) => updateNodePos(node, pos)} />\r\n                    )\r\n                    : null}\r\n\r\n                {/* render links between nodes */}\r\n                <svg width='100%' height='100%'>\r\n                    {Object.keys(links).map(linkID => {\r\n                        const [from, to] = links[linkID]\r\n                        return <Line\r\n                            key={linkID}\r\n                            from={from}\r\n                            to={to}\r\n                            offset={32} />\r\n                    })}\r\n\r\n                </svg>\r\n            </div>\r\n        </div >\r\n    );\r\n}\r\n\r\nexport default App;\r\n","export const RANGE = 300","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}